{% extends "base.html" %}
{% load static %}
{% block page_title %} Search {% endblock %}

{% block content %}
<script>
    var locations = [];
</script>
<div class="container flex mx-auto">
    <div class="h-75vh w-100vh max-w-3xl mx-2 pr-10 overflow-y-scroll" id="contents">
    {% for place in places %}
        {% include 'mixins/place_card_col.html' with place=place %}
    {% endfor %}
    </div>
    <nav class="max-w-3xl w-100vh h-75vh inset-0 flex float-right max-h-full sticky top-0 right-0" id="map-js" onload="init()">
    </nav>
    <script>
        var locations = {{ locations | safe}};
    </script>
    <script src="{% static 'js/maps.js'%}"></script>
</div>
    {% if places.has_previous %}
        <a href="?search={{word}}&page=1">First</a>
        <a href="?search={{word}}&page={{places.previous_page_number}}">Previous</a>
    {% endif %}

    <!-- 페이지의 갯수 만큼 Loop -->
    {% for index in page_range %}
    <!-- current page -->
    {% if places.paginator.number == index %}
            <span>{{index}}</span>
        {% else %}
        <!-- current page가 아니라면 -->
            <a href="?search={{word}}&page={{index}}">{{index}}</a>
        {% endif %}

    {% endfor %}

    {% if places.has_next %}
        <a href="?search={{word}}&page={{places.next_page_number}}">Next</a>
        <a href="?search={{word}}&page={{places.paginator.num_pages}}">Last</a>
    {% endif %}
{% endblock content %}