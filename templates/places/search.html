{% extends "base.html" %}
{% load static %}
{% block page_title %} Search {% endblock %}

{% block content %}
<script>
    var locations = [];
</script>
<div class="container flex mx-auto h-full">
    <div class="h-75vh w-100vh max-w-3xl mx-2 pr-10 overflow-y-scroll" id="contents">
    <h3 class="text-black text-3xl font-semibold uppercase mb-4">{{word}}</h3>
    <div id="slide_container" class="border-t border-gray-400 mt-4 py-4">
        <h3 class="text-indigo-500 text-base font-semibold uppercase">Type of Trip</h3>
        <div class="cat_slide_wrap">
            <div class="cat_slide_box rounded-lg shadow-lg overflow-hidden" id="contents">
                <div class="cat_slide_list clearfix">
                    <div class="cat_slide_content image">
                        <a href="{% url 'places:search' %}?search={{word}}&cat_type=1">
                            <img src="https://www.edarabia.com/wp-content/uploads/2019/05/things-to-do-south-korea-with-kids.jpg" class="w-full h-40">
                            <span class="text-center text-gray-700 text-xs inline-block w-full uppercase font-semibold">Nature</span>
                        </a>                        
                    </div>
                    <div class="cat_slide_content image">
                        <a href="{% url 'places:search' %}?search={{word}}&cat_type=2">
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSXg7G-2c5M7WrFXsLNoIATW7i3-N4By8zMFQ&usqp=CAU" class="w-full h-40">
                            <span class="text-center text-gray-700 text-xs inline-block w-full h-10 uppercase font-semibold">Culture | Art | History</span>
                        </a> 
                    </div>
                    <div class="cat_slide_content image">
                        <a href="{% url 'places:search' %}?search={{word}}&cat_type=3">
                            <img src="https://www.ilovepcbang.com/news/photo/201902/67011_98626_2840.jpg" class="w-full h-40">
                            <span class="text-center text-gray-700 text-xs inline-block w-full h-10 uppercase font-semibold">Leisure | Sport</span>
                        </a>                        
                    </div>
                    <div class="cat_slide_content image">
                        <a href="{% url 'places:search' %}?search={{word}}&cat_type=4">
                            <img src="https://media.halaltrip.com/other/wp-content/uploads/2017/09/1200x900_blog-shopping-in-seoul_1506485365.png" class="w-full h-40">
                            <span class="text-center text-gray-700 text-xs inline-block w-full h-10 uppercase font-semibold">Shopping</span>
                        </a>  
                    </div>
                    <div class="cat_slide_content image">
                        <a href="{% url 'places:search' %}?search={{word}}&cat_type=5">
                            <img src="https://cdn.shortpixel.ai/client/q_lossy,ret_img,w_970,h_557/https://www.venturists.net/wp-content/uploads/2019/05/KoreanFoodTopPic-e1560668314495.jpg" class="w-full h-40">
                            <span class="text-center text-gray-700 text-xs inline-block w-full h-10 uppercase font-semibold">Cuisine</span>
                        </a>  
                    </div>
                    <div class="cat_slide_content image">
                        <a href="{% url 'places:search' %}?search={{word}}&cat_type=6">
                            <img src="https://www.businesskorea.co.kr/news/photo/201411/5545_7280_0.jpg" class="w-full h-40">
                            <span class="text-center text-gray-700 text-xs inline-block w-full h-10 uppercase font-semibold">transportation</span>
                        </a>     
                    </div>
                    <div class="cat_slide_content image">
                        <a href="{% url 'places:search' %}?search={{word}}&cat_type=7">
                            <img src="https://q-cf.bstatic.com/images/hotel/max1024x768/823/82399651.jpg" class="w-full h-40">
                            <span class="text-center text-gray-700 text-xs inline-block w-full h-10 uppercase font-semibold">Accommodation</span>
                        </a>  
                    </div>
                </div>
                <!-- Slider list -->
                <div class="cat_slide_btn_box mt-64">
                    <button type="button" class="cat_slide_btn_prev focus:outline-none"><i class="fas fa-angle-left text-3xl text-indigo-500"></i></button>
                    <button type="button" class="cat_slide_btn_next focus:outline-none"><i class="fas fa-angle-right text-3xl text-indigo-500"></i></button>
                </div>
                <!-- Btn Box -->
            </div>
            <!-- slide box -->
        </div>
        <!-- Slide Wrap -->
    </div>
    <!-- <div class="mx-auto my-2">
        <div class="pt-4">
            <div class="images grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-8"> 
                <div class="image rounded-lg shadow-lg overflow-hidden w-24 h-24">
                    <a href="{% url 'places:search' %}?search={{word}}&cat_type=1">
                        <img src="https://www.edarabia.com/wp-content/uploads/2019/05/things-to-do-south-korea-with-kids.jpg" class="w-full h-16">
                        <span class="text-center text-gray-700 text-xs inline-block w-full h-20vh uppercase font-semibold">Nature</span>
                    </a>                        
                </div>
                <div class="image rounded-lg shadow-lg overflow-hidden w-24 h-24">
                    <a href="{% url 'places:search' %}?search={{word}}&cat_type=2">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSXg7G-2c5M7WrFXsLNoIATW7i3-N4By8zMFQ&usqp=CAU" class="w-full h-16">
                        <span class="text-center text-gray-700 text-xs inline-block w-full h-20vh uppercase font-semibold">Culture | Art</span>
                    </a>                        
                </div>
                <div class="image rounded-lg shadow-lg overflow-hidden w-24 h-24">
                    <a href="{% url 'places:search' %}?search={{word}}&cat_type=3">
                        <img src="https://www.ilovepcbang.com/news/photo/201902/67011_98626_2840.jpg" class="w-full h-16">
                        <span class="text-center text-gray-700 text-xs inline-block w-full h-20vh uppercase font-semibold">Leisure</span>
                    </a>                        
                </div>
                <div class="image rounded-lg shadow-lg overflow-hidden w-24 h-24">
                    <a href="{% url 'places:search' %}?search={{word}}&cat_type=4">
                        <img src="https://media.halaltrip.com/other/wp-content/uploads/2017/09/1200x900_blog-shopping-in-seoul_1506485365.png" class="w-full h-16">
                        <span class="text-center text-gray-700 text-xs inline-block w-full h-20vh uppercase font-semibold">Shopping</span>
                    </a>                        
                </div>
                <div class="image rounded-lg shadow-lg overflow-hidden w-24 h-24">
                    <a href="{% url 'places:search' %}?search={{word}}&cat_type=5">
                        <img src="https://cdn.shortpixel.ai/client/q_lossy,ret_img,w_970,h_557/https://www.venturists.net/wp-content/uploads/2019/05/KoreanFoodTopPic-e1560668314495.jpg" class="w-full h-16">
                        <span class="text-center text-gray-700 text-xs inline-block w-full h-20vh uppercase font-semibold">Cuisine</span>
                    </a>                        
                </div>
                <div class="image rounded-lg shadow-lg overflow-hidden w-24 h-24">
                    <a href="{% url 'places:search' %}?search={{word}}&cat_type=6">
                        <img src="https://www.businesskorea.co.kr/news/photo/201411/5545_7280_0.jpg" class="w-full h-16">
                        <span class="text-center text-gray-700 text-xs inline-block w-full h-20vh uppercase font-semibold">transportation</span>
                    </a>                        
                </div>
                <div class="image rounded-lg shadow-lg overflow-hidden w-24 h-24">
                    <a href="{% url 'places:search' %}?search={{word}}&cat_type=7">
                        <img src="https://q-cf.bstatic.com/images/hotel/max1024x768/823/82399651.jpg" class="w-full h-16">
                        <span class="text-center text-gray-700 text-xs inline-block w-full h-20vh uppercase font-semibold">Accommodation</span>
                    </a>                        
                </div>
            </div>
        </div>
    </div> -->
    {% for place in places %}
        {% include 'mixins/place_card_col.html' with place=place %}
    {% endfor %}
        <div class="flex justify-center text-gray-700">

            {% if places.has_previous %}
            <a href="?search={{word}}&cat_type={{cat_type.id}}&page=1">
                <div class="h-12 w-12 mr-1 flex justify-center items-center rounded-full bg-gray-200 cursor-pointer">
                    <i class="fas fa-fast-backward"></i>
                </div>
            </a>
            <a href="?search={{word}}&cat_type={{cat_type.id}}&page={{places.previous_page_number}}">
                <div class="h-12 w-12 mr-1 flex justify-center items-center rounded-full bg-gray-200 cursor-pointer">
                    <i class="fas fa-angle-left"></i>
                </div>
            </a>
            {% endif %}

            <div class="flex h-12 font-medium rounded-full bg-gray-200">

                <!-- 페이지의 갯수 만큼 Loop -->
                {% for index in page_range %}
                <!-- current page -->
                {% if places.number == index %}
                        <span class="w-12 md:flex justify-center items-center hidden cursor-pointer leading-5 transition duration-150 ease-in rounded-full bg-teal-600 text-white">{{index}}</span>
                    {% else %}
                    <!-- current page가 아니라면 -->
                        <a href="?search={{word}}&cat_type={{cat_type.id}}&page={{index}}" class="w-12 md:flex justify-center items-center hidden cursor-pointer leading-5 transition duration-150 ease-in rounded-full">{{index}}
                        </a>
                    {% endif %}

                {% endfor %}
            </div>
            {% if places.has_next %}
            <a href="?search={{word}}&cat_type={{cat_type.id}}&page={{places.next_page_number}}">
                <div class="h-12 w-12 mr-1 flex justify-center items-center rounded-full bg-gray-200 cursor-pointer">
                   <i class="fas fa-angle-right"></i>
                </div>
            </a>
            <a href="?search={{word}}&cat_type={{cat_type.id}}&page={{places.paginator.num_pages}}">
                <div class="h-12 w-12 mr-1 flex justify-center items-center rounded-full bg-gray-200 cursor-pointer">
                    <i class="fas fa-fast-forward"></i>
                </div>
            </a>
            {% endif %}
        </div>
    </div>
    <nav class="max-w-3xl w-100vh h-75vh inset-0 flex float-right max-h-full sticky top-0 right-0" id="map-js" onload="init()">
    </nav>
    <script>
        var locations = {{ locations | safe}};
    </script>
    <script src="{% static 'js/maps.js'%}"></script>
</div>

{% endblock content %}