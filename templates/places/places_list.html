{% extends "base.html" %}
{% block page_title %} Home {% endblock %}

{% block content %}
<div class="container mx-auto mb-20">
    <div class="flex flex-wrap">
        <!-- 현재 데이터 베이스에 있는 축제 정보를 가져 옵니다. -->
        {% for place in places %}
        <!-- for문으로 통해 넘겨준 place value값을 넘깁니다. -->
            {% include 'mixins/place_card.html' with place=place %}
        {% endfor %}
    </div>
    <!-- PAGINATOR -->

    <div>
        <nav>
            {% if page_obj.has_previous %}
                <a href="?page=1">First</a>
                <a href="?page={{page_obj.previous_page_number}}">Previous</a>
            {% endif %}
        
            <!-- 페이지의 갯수 만큼 Loop -->
            {% for index in page_range %}
            <!-- current page -->
            {% if page_obj.number == index %}
                    <span>{{index}}</span>
                {% else %}
                <!-- current page가 아니라면 -->
                    <a href="?page={{index}}">{{index}}</a>
                {% endif %}
        
            {% endfor %}
        
            {% if page_obj.has_next %}
                <a href="?page={{page_obj.next_page_number}}">Next</a>
                <a href="?page={{page_obj.paginator.num_pages}}">Last</a>
            {% endif %}
        </nav>
    </div>
</div>
{% endblock content %}
